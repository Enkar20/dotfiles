# Change prefix from Ctrl+b to Ctrl+a
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# Enable mouse support
set -g mouse on

# Split panes like a sane human
unbind |
unbind -
bind s split-window -v
bind v split-window -h

# Unbind defaults
unbind %
unbind '"'

# Pane navigation (vim keys)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Use vi keys in copy mode
setw -g mode-keys vi

# Enter copy mode
bind Escape copy-mode

# Faster escape from prefix
set -s escape-time 10

# Reload config
bind r source-file ~/.tmux.conf \; display "tmux config reloaded"


##### STATUS BAR #####

# Enable status bar
set -g status on

# Status bar position
set -g status-position bottom

# Refresh interval (seconds)
set -g status-interval 5

# Style
set -g status-style "bg=colour235 fg=colour250"

# Left side: session name
set -g status-left-length 40
set -g status-left "#[fg=colour39,bold] ï„   #S #[default]"

# Right side: path + date + time
set -g status-right-length 100
set -g status-right "#[fg=colour245]#(pwd | sed 's|^$HOME|~|') #[fg=colour240]| #[fg=colour245]%Y-%m-%d #[fg=colour39]%H:%M #[default]"

# Window list
setw -g window-status-format "  #I:#W  "
setw -g window-status-current-format "#[fg=colour235,bg=colour39,bold] #I:#W #[default]"

# Pane border
set -g pane-border-style "fg=colour238"
set -g pane-active-border-style "fg=colour39"

# Message style
set -g message-style "bg=colour39 fg=colour235 bold"

# Session switcher
bind s choose-tree -s

# Auto-rename windows based on running command
setw -g automatic-rename on
set -g allow-rename on

##### WINDOW COLORS #####

# Inactive windows
setw -g window-status-style "fg=colour245 bg=colour235"

# Active window
setw -g window-status-current-style "fg=colour235 bg=colour39 bold"

# Bell
set -g window-status-bell-style "fg=colour235 bg=colour160 bold"

##### PANE LOOK #####

set -g pane-border-style "fg=colour240"
set -g pane-active-border-style "fg=colour39"

# Highlight active pane briefly when switching
set -g display-panes-time 600

